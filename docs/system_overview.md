# 블랙박스 영상 분석 AI 시스템

## 개요

본 시스템은 차량 블랙박스 영상을 분석하여 **교통사고 경위서를 자동으로 작성**하는 AI입니다.

영상을 입력하면 사고 발생 시점을 감지하고, 초 단위로 상황을 설명하며, 최종적으로 사고 경위를 요약합니다.

---

## 시스템 구성

### 1차 분석 AI (사고 감지)

**역할**: 전체 영상을 1초 단위로 분석하여 사고 시점을 찾아냅니다.

- 매 초마다 차량의 상황을 설명합니다
- 충돌 직전 프레임과 충돌 직후 프레임을 식별합니다
- 사고가 발생한 시간 구간을 반환합니다

**출력 예시**:
```
1초: 본 차량이 편도 2차선 도로에서 직진 중
2초: 전방 교차로 접근, 신호 대기 차량 확인
3초: 교차로 진입
4초: 좌측에서 차량 진입 감지
5초: 충돌 직전 상태
6초: 측면 충돌 발생

사고 구간: 5초 ~ 6초
```

---

### 2차 분석 AI (상세 분석)

**역할**: 사고 구간을 정밀하게 분석하여 충돌 경위를 상세히 기록합니다.

- 사고 구간 ±1초를 고밀도 프레임으로 추출합니다
- 0.3초 단위로 차량의 위치, 속도, 방향을 분석합니다
- 과실 판단에 필요한 정보를 제공합니다
- 사고 경위를 요약합니다

**출력 예시**:
```
4.0초: 본 차량 직진 중, 좌측 차량 시야에 진입
4.3초: 좌측 차량 정지선 무시하고 진입 시작
4.6초: 본 차량 브레이크 작동 흔적 없음
5.0초: 충돌 직전, 회피 불가능한 거리
5.3초: 좌측 차량 전면부와 본 차량 우측면 충돌
5.6초: 충돌 후 두 차량 정지
6.0초: 사고 후 상황, 파편 확인

사고 요약: 본 차량이 직진 중 좌측에서 정지선을 무시하고
진입한 차량과 충돌. 본 차량은 회피할 시간적 여유가 없었음.
```

---

## 분석 흐름

```
블랙박스 영상 입력
        ↓
   영상 전처리
   (길이 조정, 해상도 변환)
        ↓
   1차 분석 AI
   (1초 단위 상황 설명 + 사고 시점 감지)
        ↓
   2차 분석 AI
   (사고 구간 정밀 분석 + 경위 요약)
        ↓
   사건 경위서 출력
```

---

## 활용 분야

- **보험사**: 사고 접수 시 초기 과실 판단 보조
- **법률 사무소**: 교통사고 소송 증거 분석
- **교통 안전 기관**: 사고 패턴 분석 및 통계
- **개인**: 사고 발생 시 객관적 상황 기록

---

## 분석 가능 조건

| 항목 | 조건 |
|------|------|
| 영상 길이 | 10초 ~ 20초 |
| 영상 형식 | MP4, AVI, MOV, MKV |
| 최소 FPS | 10 이상 |

---

## 한계점

- 야간 또는 악천후 영상은 분석 정확도가 낮아질 수 있습니다
- 블랙박스 화질이 낮은 경우 차량 식별이 어려울 수 있습니다
- AI 분석 결과는 참고용이며, 법적 판단의 최종 근거가 될 수 없습니다
